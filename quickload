#/usr/bin/env python3

from src.MessageRepo import MessageRepo
from src.Config import Config
from src.FilterEngine import FilterEngine
from src.Filter import FilterType

if __name__ == "__main__":
    Config.init(lang="fr")

    print(f"Loading user data for user '{Config.USER_DATA["global_name"]}' (id: {Config.USER_ID})")
    repo = MessageRepo(Config.MESSAGES)
    engine = FilterEngine(repo.get_visible())
    
    # Combine filters to get what you want
    engine.filters()\
        .add_filter(FilterType.AFTER, "2025-01-01")\
        .add_filter(FilterType.BEFORE, "2026-01-01")
    print(engine)
